TRoLE: Taylor Relaxation Of Loop Ensembles
------------------------------------------

This file gives the commands necessary for the recomputation of the energy-distribution plots from Figure 14 of the following paper.

A nanoflare distribution generated by repeated relaxations triggered by kink instability
http://www.aanda.org/index.php?option=com_article&access=standard&Itemid=129&url=/articles/aa/full_html/2010/13/aa14067-10/aa14067-10.html

For more details see the readme.md file in the parent directory.

The following commands assume that the user is in the trole directory with the source code in ./src.
GNU Scientific Library v1.16 must be installed in the default locations (i.e., /usr/local/lib and /usr/local/include/gsl), as
well as gnuplot v4.6 and ghostscript v9.10.


# Setup compile environment...
chmod a+x ./env.sh
source ./env.sh

# Compile TRoLE source code...
make

# Run the TRoLE code for 10e5 relaxation events using different loop lifetimes...
./bin/trole ./data/input/shp_lle0.txt
./bin/trole ./data/input/shp_lle1.txt
./bin/trole ./data/input/shp_lle2.txt
./bin/trole ./data/input/shp_lle3.txt

# Generate the energy-distribution plots from Figure 14...
gnuplot ./scripts/gnuplot/figs.p

# View the plots (red) and compare with the ones from the original paper (blue)...
ghostscript ./data/output/figs/wrpf_rx10e5_lle3.eps ./data/output/figs/wrpf_rx10e5_lle2.eps ./data/output/figs/wrpf_rx10e5_lle1.eps ./data/output/figs/wrpf_rx10e5_lle0.eps


# Below are instructions for setting up a virtual box for the recomputation...
vagrant init trole https://downloads.sourceforge.net/project/vagrantboxjessie/debian80.box
vagrant up
vagrant ssh
	sudo apt-get update
	sudo apt-get install gnuplot
	sudo apt-get install gnuplot-x11
	sudo apt-get install ghostscript
	sudo apt-get install g++	
	sudo apt-get install libgsl0ldbl gsl-bin
        sudo ln -s /usr/lib/libgsl.so.0 /usr/local/lib/libgsl.so
	sudo ln -s /usr/lib/libgslcblas.so.0 /usr/local/lib/libgslcblas.so
	### Extract header gsl files from ftp://ftp.gnu.org/gnu/gsl/gsl-1.9.tar.gz and copy to /usr/local/include/ ###
	sudo apt-get install git
	git clone https://github.com/mbareford/trole
	cd ./trole
	source ./env.sh
	make
	./bin/trole ./data/input/shp_lle0.txt
	./bin/trole ./data/input/shp_lle1.txt
	./bin/trole ./data/input/shp_lle2.txt
	./bin/trole ./data/input/shp_lle3.txt
	gnuplot ./scripts/gnuplot/figs.p
	cp ./data/output/figs/*.eps /vagrant/
	exit
vagrant halt
vagrant package --output trole.box
### View the EPS files from within host ###






